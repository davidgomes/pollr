<template name="profile">
  <div class="container">
    <div class="row">
      {{#if currentUser}}
        <div class="col-md-8 col-md-offset-2 content-custom">
          
        <div class="row">
          <h2 class="pull-left">{{user.username}}</h2>
          {{#if toFollow user._id}}
            <button type="button" data="{{user._id}}" class="btn btn-default btn-sm pull-right" id="follow-button"><i class="fa fa-user"></i></button>
          {{/if}}

          {{#if toUnfollow user._id}}
            <button type="button" data="{{user._id}}" class="btn btn-info btn-sm pull-right" id="unfollow-button"><i class="fa fa-user"></i></button>
          {{/if}}
        </div>
        
        <div class="col-md-12">
          <div class="col-md-6">
            <h5>Following:</h5>
            <ul>
              {{#each excerptFollowees}}
                <li><a href="/profile/{{getUsername this}}/">{{getUsername this}}</a></li>
              {{/each}}
            </ul>
          </div>
          
          <div class="col-md-6">
            <h5>Followers:</h5>
            <ul>
              {{#each excerptFollowers}}
                <li><a href="/profile/{{getUsername this}}/">{{getUsername this}}</a></li>
              {{/each}}
            </ul>
          </div>
        </div>
        
        <h4>Questions</h4>
        {{#each questions}}
          {{ > question q = this }}
        {{/each}}
        
        {{#if noQuestions}}
          <div class="well">
            <p><i class="fa fa-terminal"></i> The user has yet to post a question.</p>
          </div>
        {{/if}}
        </div>
      {{else}}
        {{ > accounts }}
      {{/if}}
    </div>
  </div>
</template>
